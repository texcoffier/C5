<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <link REL="icon" href="favicon.ico">
    <title>C5 : C5 is Compiler Course Class in the Cloud</title>
    <style>
        BODY {
            --body: 50em;
            max-width: var(--body);
            font-family: sans-serif;
            background: #FFF;
            line-height: 1.3em;
        }

        P,
        LI {
            text-align: justify
        }

        LI {
            margin-top: 0.2em;
        }

        H1,
        H2,
        H3 {
            clear: both;
            background: #EEE;
            padding: 0.3em;
            display: block;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
            page-break-after: avoid;
        }

        H1 {
            font-size: 165%;
            border: 1px solid #000;
        }

        H2 {
            font-size: 150%;
            border: 1px solid #000;
            page-break-before: always;
        }

        H3 {
            font-size: 120%;
            border-bottom: 1px solid #000;
            margin-left: 0px;
        }

        TABLE {
            border-collapse: collapse;
            border-spacing: 0px;
        }

        TABLE TD {
            border: 1px solid #888;
            vertical-align: top;
        }

        TT,
        PRE {
            background: #FFE;
            border: 1px solid #880;
            font-family: monospace, monospace;
            font-size: 90%;
            overflow: hidden;
        }

        .compilateur {
            background: #DFF
        }

        .cours {
            background: #BFB
        }

        .js {
            background: #DDF
        }

        .serveur {
            background: #FDD
        }

        .executable {
            background: #FEE
        }

        .screenshot {
            position: absolute;
            left: calc(var(--body) + 1em);
            margin-top: -3em;
            page-break-before: avoid;
        }

        .compilers {
            width: 100%
        }

        .compilers TD:nth-child(1) {
            font-weight: bold;
        }

        .compilers TD:nth-child(3) {
            white-space: nowrap;
        }

        TT.link {
            background: #EEE;
            color: #00F;
            border: 0px;
        }

        TT.button {
            background: #FAFAFA;
            border: 2px outset #DDD;
            border-radius: 0.5em;
            padding: 0.1em;
        }

        TT.key {
            background: initial;
            border: 0px;
        }

        TT.key:before {
            content: 'â°';
        }

        TT.key:after {
            content: 'â±';
        }

        UL {
            page-break-inside: avoid;
        }

        @media print {
            BODY {
                font-size: 80%;
                max-width: 100%
            }

            TD,
            TH {
                font-size: 80%;
            }

            .screenshot {
                position: initial;
                width: 100%;
                margin-top: 0px;
            }
        }
    </style>
</head>

<body>
    <h1><img src="c5.svg" style="height:1em;vertical-align:text-top"> : C5 is Compiler Course Class in the Cloud.</h1>
    <div id="toc"></div>
    <h2>Pourquoi utiliser C5 ?</h2>
    <h3>EmpÃªcher toute tricherie lors des examens sur machine.</h3>
    <img class="screenshot" src="screen-python.svg">
    <ul>
        <li> Tout est fait dans une unique page web facile Ã  surveiller visuellement :
            <ul>
                <li> Sujet de l'examen, Ã©ventuellement diffÃ©rent pour chaque Ã©tudiant.</li>
                <li> Ã‰diteur de code pour rÃ©pondre.</li>
                <li> RÃ©sultat de compilation.</li>
                <li> RÃ©sultat de l'exÃ©cution.</li>
            </ul>
        </li>
        <li> Le copier/copier de sources extÃ©rieures est impossible.</li>
        <li> Toutes les actions clavier/souris sont mÃ©morisÃ©es.</li>
        <li> Les surveillants voient un plan des salles surveillÃ©es avecÂ :
            <ul>
                <li> Les Ã©tudiants placÃ©s sur les chaises.</li>
                <li> Leur avancement dans les exercices.</li>
                <li> Le nombre de fois qu'ils ont changÃ© de fenÃªtre.</li>
                <li> En cliquant sur l'Ã©tudiant il peut voir son travail,
                    le noter suivant un barÃ¨me et l'annoter.
                </li>
            </ul>
        </li>
    </ul>
    <h3>Avoir un environnement TP immÃ©diatement fonctionnel.</h3>
    <p>
        En effet :
    </p>
    <ul>
        <li> Rien besoin d'installer pour les Ã©tudiants.</li>
        <li> L'Ã©tudiant peut accÃ©der Ã  son travail de n'importe oÃ¹, mÃªme sur smartphone.</li>
        <li> Pas besoin d'apprendre Ã  utiliser un logiciel.</li>
        <li> Coloration syntaxique.</li>
        <li> Mise en Ã©vidence des parenthÃ¨ses.</li>
        <li> Mise en Ã©vidence des erreurs de compilation.</li>
        <li> Reformatage du code source.</li>
        <li> Recompilation et exÃ©cution temps-rÃ©el.</li>
        <li> Indices contextuels pour guider l'Ã©tudiant vers la solution
            en fonction de son travail.</li>
        <li> Outils pour la surveillance d'examen sur de nombreuses salles.</li>
        <li> Permet de suivre l'avancement du travail de l'Ã©tudiant Ã  distance.</li>
    </ul>

    <h3>Fluidifier le dÃ©roulement des examens.</h3>
    <img class="screenshot" src="screen-checkpoint.png" style="width: 40em">

    <ul>
        <li> Le fait de placer les Ã©tudiants sur les chaises
            revient Ã  faire l'appel.</li>
        <li> On voit immÃ©diatement les noms des surveillants associÃ©s aux salles.</li>
        <li> On voit les machines qui sont en panne.</li>
        <li> On voit dans quelles salles il reste des machines inoccupÃ©es.</li>
        <li> Les surveillants peuvent s'Ã©changer des messages d'alerte.</li>
        <li> Le surveillant peut voir l'historique du travail de l'Ã©tudiant,
            pendant et aprÃ¨s la session.
        </li>
        <li> On peut retrouver qui surveillait un Ã©tudiant.</li>
        <li> On peut retrouver qui Ã©tait assis Ã  cotÃ© de qui.</li>
        <li> En fin d'examen, pas besoin de demander aux Ã©tudiants de dÃ©poser un fichier.</li>
        <li> Les tiers-temps sont automatiquement pris en compte.</li>
        <li> On peut donner du temps supplÃ©mentaire Ã  un Ã©tudiant en cas de problÃ¨me.</li>
        <li> Un outil permet de noter et commenter facilement le travail de l'Ã©tudiant.</li>
        <li> On peut lister par correcteur les Ã©tudiants qui n'ont pas Ã©tÃ© corrigÃ©s
            ou bien corrigÃ© de maniÃ¨re incomplÃ¨te.</li>
        <li> On peut faire le retour de la corrections aux Ã©tudiants.</li>
    </ul>
    <p>
        La copie d'Ã©cran montre
        <a href="#surveillant">l'interface du surveillant</a>
        qui est prÃ©sentÃ©e plus loin.
    </p>

    <!--
    <p>
        PrÃ©sentation video de 5 minutes 32 (complÃ¨tement dÃ©passÃ©e) :
        <b><a href="tuto_student.webm">la vue Ã©tudiant</a></b><br>
    </p>

    <p> PrÃ©sentation video de 4 minutes 14 (complÃ¨tement dÃ©passÃ©e) :
        <b><a href="tuto_teacher.webm">la vue surveillant</a></b><br>
    </p>
    -->

    <h2>CrÃ©ation d'une session de travail.</h2>

    <h3>Comment dÃ©finir un sujet.</h3>
    <p>
        L'ensemble de l'environnement est programmÃ© en Python.
    </p>
    <ul>
        <li> Vous composez votre sujet dans un fichier <tt>nom_sujet.py</tt>,
            ce nom sera affichÃ© aux Ã©tudiants,
            il est conseillÃ© de le prÃ©fixer par le code du cours
            suivi de Â«_Â».
        <li>
            Chaque sujet contient un ensemble de questions s'enchaÃ®nant successivement.
    </ul>

    <p>
        Pour chaque question il y a une classe
        dont les mÃ©thodes dÃ©finissent la question.
        Voici les mÃ©thodes dans l'ordre d'appel lorsque l'Ã©tudiant arrive sur la questionÂ :
    </p>
    <ul>
        <li> <tt>default_answer(self)</tt>
            calcule le code initial avec lequel l'Ã©tudiant commence dans l'Ã©diteur.
            Si la question est alÃ©atoire, on peut conserver dans l'instance
            de la question l'alÃ©a choisi pour que les mÃ©thodes suivantes
            puissent l'utiliser pour l'affichage et les tests.
            <b>Cette fonction est appelÃ©e une unique fois.</b>
        </li>
        <li> <tt>question(self)</tt> calcule le texte de la question au format HTML.
        </li>
        <li> <tt>tester(self)</tt> affiche des indices pour aider l'Ã©tudiant
            dans la zone Â«Les buts que vous devez atteindreÂ» de l'interface Ã©tudiant.
            Elle autorise le passage Ã  la question suivante
            si la rÃ©ponse de l'Ã©tudiant est correcte.
        </li>
    </ul>
    </p>
    <pre>class Q1(Question):
    """Question 1"""
    def question(self):
        return "&lt;p&gt;Vous devez faire afficher Â«BonjourÂ»&lt;/p&gt;"
    def tester(self):
        self.display('&lt;p&gt;Dans votre code source on devrait trouverÂ :&lt;/p&gt;')
        self.check(self.worker.source, [
            ['print'  , 'Le nom de la fonction Â«printÂ» pour afficher la valeur'],
            ['Bonjour', 'Le texte Â«BonjourÂ» que vous devez afficher'],
            ])
        if self.worker.execution_result == 'Bonjour\n':
            self.next_question()
    def default_answer(self):
        return "# Tapez votre programme ici :\n"</pre>
    <p>
        Un sujet complet est une liste de questions gÃ©rÃ©es
        par un unique compilateur.
        La derniÃ¨re ligne du fichier dÃ©finie la liste des questions,
        si elle n'est pas indiquÃ©e alors toutes les questions du fichier
        sont proposÃ©es Ã  l'Ã©tudiantÂ :
    </p>
    <pre>Session([Q0(), Q1(), Q2(), Q3(), QEnd()])</pre>

    <h3>Essayer le sujet.</h3>
    <p>
        On suppose que :
    </p>
    <ul>
        <li> Vous avez accÃ¨s Ã  un serveur C5.<br>
            Si ce n'est pas le cas, les explications pour en installer
            un sont plus loin sur la page.</li>
        <li> L'administrateur C5 vous a indiquÃ© comme Â«auteurÂ».</li>
    </ul>
    <p>
        Pour le mettre en production <b>la premiÃ¨re fois</b> et l'essayerÂ :
    </p>
    <ul>
        <li> Vous allez sur la page d'accueil de C5.</li>
        <li> En bas de la page, vous cliquez sur le bon compilateur
            et dÃ©posez votre fichier contenant le cours.
        </li>
        <li> Une ligne reprÃ©sentant votre cours a Ã©tÃ© ajoutÃ©e
        </li>
        <li> Vous cliquez sur le bouton <tt class="link">Try</tt>.</li>
        <li> Si votre sujet dÃ©pend de la place de l'Ã©tudiant, alors
            vous devez cliquer sur <tt class="link">Place</tt> pour vous
            placer sur la bonne chaise et recharger la page contenant le sujet.
        </li>
    </ul>

    <h3>Modifier le sujet et paramÃ©trer la session.</h3>
    <img class="screenshot" src="screen-session-editor.svg">
    <ul>
        <li> Sur la page d'accueil de C5, vous cliquez sur <tt class="link">Edit</tt>.</li>
        <li> Vous pouvez alors rÃ©gler tous les paramÃ¨tres de la session.</li>
        <li> Si vous voulez dÃ©poser une nouvelle version du sujet vous choisissez
            <tt class="button">Upload a new source</tt> dans le menu dÃ©roulant
            Â«ActionsÂ» Ã  droite des onglets.
        </li>
        <li> Si vous voulez modifier directement le code source, allez dans l'onglet Â«SourceÂ»
            et faites <tt class="key">Ctrl+S</tt> pour mettre en production.
        </li>
    </ul>
    <p>
        Ensuite il ne reste qu'Ã  aller dans l'onglet Â«TryÂ» pour voir la nouvelle version.
    </p>


    <h3>Ajouter des images dans un sujet.</h3>
    <p>
        Dans le paramÃ©trage de la session, choisissez <tt class="button">Upload a new media</tt>
        dans le menu Â«ActionsÂ».
        Cela vous affichera en haut de page
        le code HTML Ã  mettre dans la question pour afficher l'image.
        Les images sont partagÃ©es entre les diffÃ©rentes sessions C5.
        Par contre une fois que la session ayant enregistrÃ©e l'image est terminÃ©e,
        l'image n'est plus accessible par les autres sessions.
        Les correcteurs ont bien entendu accÃ¨s aux images mÃªme quand la session
        est terminÃ©e.
    </p>
    <p>
        On peut aussi hÃ©berger l'image sur un autre site web.
        Le tag IMG doit alors contenir <tt>crossorigin</tt>
        et l'autre site web doit contenir dans le <tt>.htaccess</tt>
        du rÃ©pertoire de l'imageÂ :
    </p>
    <pre>Header set Access-Control-Allow-Origin "https://c5.univ-lyon1.fr"</pre>
    Remplacez par l'adresse de votre serveur C5 et ne mettez PAS le '/' final.

    <!--
    <ul>
        <li> Graphique SVG : on peut directement mettre le code SVG dans le HTML
            de la question.</li>
        <li> Image PNG, transformez l'image <tt>image.png</tt> en HTML avec cette commande shellÂ :
            <pre>echo "&lt;img src=\"data:image/png;base64,$(openssl enc -base64 -A &lt;<b>image.png</b>)\"&gt;"</pre>
        </li>
    </ul>
-->

    <h2>Outils pour dÃ©finir une question.</h2>

    <h3>Attributs de la question.</h3>
    <ul>
        <li> <tt>self.worker.execution_result</tt> chaÃ®ne de caractÃ¨res
            contenant le rÃ©sultat de l'exÃ©cution
            une fois toutes les lectures clavier (scanf, input, cin...) faites.</li>
        <li> <tt>self.worker.source</tt> chaÃ®ne de caractÃ¨res
            contenant le code source de l'Ã©tudiant.</li>
        <li> <tt>self.all_tests_are_fine</tt> vrai au dÃ©but de la fonction
            <tt>tester</tt>, puis mis Ã  jour automatiquement
            par les fonctions utilitaires en cas d'Ã©chec.
        </li>
    </ul>

    <h3>MÃ©thodes et fonctions utilitaires.</h3>
    <ul>
        <li> <tt>millisec()</tt> depuis le 1 janvier 1970.</li>
        <li> <tt>self.display(html)</tt> affiche dans la zone de test.</li>
        <li> <tt>self.worker.escape(text)</tt> Ã©chappe les balises HTML.</li>
        <li> <tt>self.next_question()</tt> autorise le passage Ã  la question suivante.</li>
        <li> <tt>self.message(bool, message)</tt>
            affiche le message vert si <tt>bool</tt> est vrai, sinon rouge.</li>
        <li> <tt>self.check(text, [ [regexp, message], ...])</tt>
            affiche les messages vert/rouge en fonction de la prÃ©sence
            de <tt>regexp</tt> dans <tt>text</tt>.
        </li>
        <li> <tt>self.teacher()</tt> retourne le nom de l'enseignant qui surveille l'Ã©tudiant.</li>
        <li> <tt>batiment, coord_x, coord_y = self.placement()</tt>
            Permet de rÃ©cupÃ©rer le bÃ¢timent et les coordonnÃ©es sur le plan.
        <li> <tt>sujet = self.version()</tt>
            permet de rÃ©cupÃ©rer la version du sujet suivant que
            l'Ã©tudiant a Ã©tÃ© mis sur un â’¶ ou â’· sur le planÂ :
            <pre>def question(self):
    if self.sujet == 'a':
        return "Vous avez le sujet A : ..."
    else:
        return "Vous avez le sujet B : ..."

def tester(self):
    if self.sujet == 'a':
        ...
    else:
        ...

def default_answer(self):
    self.sujet = self.version() # 'a' ou 'b'
    return ""</pre>
    </ul>

    <h3>Tous les attributs de configuration.</h3>

    <p>
        Les colonnes contiennent le nom de l'attribut,
        sa valeur par dÃ©faut et un texte d'explication.
    </p>
    <div START_OPTIONS DO_NOT_EDIT_HERE>
<table>
<tr><th style="background: #FFF" colspan="3">Session options</tr>
<tr><td>start<td><tt>&#x27;2000-01-01 00:00:00&#x27;</tt><td>Start date of the session</tr>
<tr><td>stop<td><tt>&#x27;2100-01-01 00:00:00&#x27;</tt><td>Stop date of the session <div id="invalid_date">START&gt;END</div></tr>
<tr><td>state<td><tt>&#x27;Draft&#x27;</tt><td>
<pre>â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ State  â”ƒ    Visible by      â”ƒ    Usable by       â”ƒ
â”£â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”ƒDraft   â”ƒcreator admin       â”‚creator admin       â”‚
â”£â”â”â”â”â”â”â”â”â•‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”ƒReady   â”ƒ                    â”‚                    â”‚
â”ƒ  beforeâ”ƒall                 â”‚creator admin graderâ”‚
â”ƒ  while â”ƒall                 â”‚all if no checkpointâ”‚
â”ƒ  after â”ƒall except students â”‚creator admin graderâ”‚
â”£â”â”â”â”â”â”â”â”â•‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”ƒGrade   â”ƒcreator admin graderâ”‚creator admin graderâ”‚
â”£â”â”â”â”â”â”â”â”â•‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”ƒDone    â”ƒcreator admin graderâ”‚creator admin graderâ”‚
â”ƒ        â”ƒStudents if allowed â”‚                    â”‚
â”ƒ        â”ƒby admin and grader â”‚                    â”‚
â”£â”â”â”â”â”â”â”â”â•‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”ƒArchive â”ƒcreator admin       â”‚creator admin       â”‚
â”—â”â”â”â”â”â”â”â”â”¹â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre></tr>
<tr><td>checkpoint<td>0<td>Requires students to be placed on the map (examination mode)</tr>
<tr><td>allow_copy_paste<td>0<td>Copy/paste allowed (if not allowed students must be in full screen mode)</tr>
<tr><td>save_unlock<td>0<td>Saving a question unlock next</tr>
<tr><td>automatic_compilation<td>1<td>Compilation is automatic</tr>
<tr><td>feedback<td>0<td>Maximum level of student feedback allowed to teachers</tr>
<tr><td>grading_done<td>1<td>Graders indicate Â«grading doneÂ» in place of the grading level</tr>
<tr><td>allow_ip_change<td>0<td>Allow IP change (bad Internet connection)</tr>
<tr><td>sequential<td>1<td>Questions must be answered from first to last</tr>
<tr><td>highlight<td><tt>&#x27;#FFF&#x27;</tt><td>Background color in the student and teacher session list</tr>
<tr><th style="background: #FFF" colspan="3">Checkpoint placement interface</tr>
<tr><td>display_student_filter<td>0<td>Display an INPUT field containing a list of student IDs to highlight</tr>
<tr><td>display_my_rooms<td>1<td>Add a toggle to display only the rooms I dragged student into</tr>
<tr><td>display_session_name<td>0<td>Display the session name</tr>
<tr><td>default_building<td><tt>&#x27;&#x27;</tt><td>Preselected building name</tr>
<tr><th style="background: #FFF" colspan="3">Student interface</tr>
<tr><td>positions<td><pre>{
  'question': [1, 29, 0, 30, &#x27;#EFEF&#x27;],
  'tester': [1, 29, 30, 70, &#x27;#EFEF&#x27;],
  'editor': [30, 40, 0, 100, &#x27;#FFFF&#x27;],
  'compiler': [70, 30, 0, 30, &#x27;#EEFF&#x27;],
  'executor': [70, 30, 30, 70, &#x27;#EEFF&#x27;],
  'time': [80, 20, 98, 2, &#x27;#0000&#x27;],
  'index': [0, 1, 0, 100, &#x27;#0000&#x27;],
  'editor_title': [0, 0, 0, 0, &#x27;#FFFF&#x27;],
}</pre><td>For each bloc :<br>[Bloc X%, Width%, Y%, Heigth%, background color]</tr>
<tr><td>forget_input<td>0<td>Forget old input values on execution</tr>
<tr><td>coloring<td>1<td>source highlighting is done</tr>
<tr><td>theme<td><tt>&#x27;a11y-light&#x27;</tt><td>Syntaxic coloring theme for source code</tr>
<tr><td>display_local_save<td>0<td>display 'icon_local' to download the current source code</tr>
<tr><td>display_home<td>1<td>display 'icon_home'</tr>
<tr><td>display_local_git<td>1<td>display 'icon_git' to download a repository of all history</tr>
<tr><td>display_local_zip<td>1<td>display 'icon_local' to download a repository of all questions</tr>
<tr><td>display_timer<td>1<td>display the timer</tr>
<tr><td>display_compile_run<td>1<td>display the F9 button</tr>
<tr><td>display_tag<td>1<td>display 'icon_tag'</tr>
<tr><td>display_history<td>1<td>display version history</tr>
<tr><td>display_indent<td>1<td>display the F8 button</tr>
<tr><td>display_line_numbers<td>1<td>display line numbers</tr>
<tr><th style="background: #FFF" colspan="3">Popup messages</tr>
<tr><td>forbiden<td><tt>&quot;Coller du texte copiÃ© venant d&#x27;ailleurs n&#x27;est pas autorisÃ©.&quot;</tt><td>Alert</tr>
<tr><td>close<td><tt>&#x27;Voulez-vous vraiment quitter cette page ?&#x27;</tt><td>Alert</tr>
<tr><td>stop_confirm<td><tt>&quot;Vous voulez vraiment terminer l&#x27;examen maintenant ?&quot;</tt><td>Alert</tr>
<tr><td>stop_done<td><tt>&quot;&lt;h1&gt;C&#x27;est fini.&lt;/h1&gt;&quot;</tt><td>Alert</tr>
<tr><td>good<td><pre>[
  &#x27;Bravo !&#x27;,
  &#x27;Excellent !&#x27;,
  &#x27;Super !&#x27;,
  &#x27;GÃ©nial !&#x27;,
  &#x27;Vous Ãªtes trop fort !&#x27;,
]</pre><td>Alert on success</tr>
<tr><th style="background: #FFF" colspan="3">Bloc titles</tr>
<tr><td>question_title<td><tt>&#x27;Question&#x27;</tt><td>Bloc title</tr>
<tr><td>tester_title<td><tt>&#x27;Les buts que vous devez atteindre&#x27;</tt><td>Bloc title</tr>
<tr><td>editor_title<td><tt>&#x27;Code source&#x27;</tt><td>Bloc title</tr>
<tr><td>compiler_title<td><tt>&#x27;Compilation&#x27;</tt><td>Bloc title</tr>
<tr><td>executor_title<td><tt>&#x27;ExÃ©cution&#x27;</tt><td>Bloc title</tr>
<tr><th style="background: #FFF" colspan="3">Labels of button and toggles</tr>
<tr><td>editor_indent<td><tt>&#x27;Indent(F8)&#x27;</tt><td>Button label</tr>
<tr><td>compiler_title_toggle<td><tt>&#x27;Automatique (F9)&#x27;</tt><td>Button label</tr>
<tr><td>compiler_title_button<td><tt>&#x27;Maintenant ! (F9)&#x27;</tt><td>Toggle label</tr>
<tr><td>executor_title_button<td><tt>&#x27;GO!(F9)&#x27;</tt><td>Button label</tr>
<tr><td>icon_home<td><tt>&#x27;ğŸ &#x27;</tt><td>Button label</tr>
<tr><td>icon_save<td><tt>&#x27;ğŸ“©&#x27;</tt><td>Button label</tr>
<tr><td>icon_local<td><tt>&#x27;ğŸ’¾&#x27;</tt><td>Button label</tr>
<tr><td>icon_git<td><tt>&#x27;&lt;b style=&quot;font-size:50%&quot;&gt;GIT&lt;/b&gt;&#x27;</tt><td>Button label</tr>
<tr><td>icon_tag<td><tt>&#x27;TAG&#x27;</tt><td>Button label</tr>
<tr><td>icon_stop<td><tt>&#x27;Terminer&lt;br&gt;Examen&#x27;</tt><td>Button label displayed if checkpoint</tr>
<tr><th style="background: #FFF" colspan="3">Time countdown</tr>
<tr><td>time_running<td><tt>&#x27;Fini dans&#x27;</tt><td>Time message</tr>
<tr><td>time_done<td><tt>&#x27;Fini depuis&#x27;</tt><td>Time message</tr>
<tr><td>time_seconds<td><tt>&#x27; secondes&#x27;</tt><td>Time message</tr>
<tr><td>time_days<td><tt>&#x27; jours&#x27;</tt><td>Time message</tr>
<tr><td>time_d<td><tt>&#x27; j &#x27;</tt><td>Time message</tr>
<tr><td>time_m<td><tt>&#x27; m &#x27;</tt><td>Time message</tr>
<tr><td>time_h<td><tt>&#x27; h &#x27;</tt><td>Time message</tr>
<tr><th style="background: #FFF" colspan="3">Options defined by the compiler used by the course</tr>
<tr><td>compiler<td><tt>&#x27;&#x27;</tt><td>Compiler to use (should not be changed):<br>Â«g++Â» Â«gccÂ» Â«racketÂ»</tr>
<tr><td>compile_options<td><pre>[
]</pre><td>Compile options:<br>Â«-WallÂ» Â«-pedanticÂ» Â«-pthreadÂ» Â«-std=c++11Â» Â«-std=c++20Â»</tr>
<tr><td>ld_options<td><pre>[
]</pre><td>Libraries to link with:<br>Â«-lmÂ»</tr>
<tr><td>language<td><tt>&#x27;&#x27;</tt><td>Language to use for syntaxic coloring:<br> Â«cppÂ» Â«pythonÂ» ...</tr>
<tr><td>extension<td><tt>&#x27;&#x27;</tt><td>Source code filename extension for ZIP and GIT: Â«cppÂ», Â«pyÂ»...</tr>
<tr><td>filetree_in<td><pre>[
]</pre><td>Initialize file tree [['foo', 'content'], ['BAR/1', 'one']]</tr>
<tr><td>filetree_out<td><pre>[
]</pre><td>File contents to get as ['foo', 'BAR/1']</tr>
<tr><td>allowed<td><pre>[
]</pre><td>
System call always allowed for g++/gcc, no need to specify them:
      clock_gettime close exit exit_group fstat futex lseek
      mmap munmap newfstatat openat read write
<p>
System calls allowable for g++/gcc:
      access arch_prctl brk clock_nanosleep
      clone clone3 execve getpid getrandom gettid madvise mprotect
      pipe pread64 prlimit64 rseq rt_sigaction rt_sigprocmask
      sched_yield set_robust_list set_tid_address tgkill open
</tr>
<tr><th style="background: #FFF" colspan="3">Access tab</tr>
<tr><td>admins<td><tt>&#x27;&#x27;</tt><td>Administrators with all the access rights</tr>
<tr><td>graders<td><tt>&#x27;&#x27;</tt><td>Teachers allowed to try the session, grade and place the students</tr>
<tr><td>proctors<td><tt>&#x27;&#x27;</tt><td>Can only place the students</tr>
<tr><td>expected_students<td><tt>&#x27;&#x27;</tt><td>The login list of expected students, the session is in bold in their session list.</tr>
<tr><td>expected_students_required<td>0<td>Unexpected students do not see the session, but a teacher can send them the link to it</tr>
<tr><td>tt<td><tt>&#x27;&#x27;</tt><td>The logins of student with â…“ more time</tr>
</table>
    </div END>
    <p>
        Voici comment paramÃ©trer les attributs prÃ©cÃ©dents :
    </p>
    <ul>
        <li>
            En interactif dans l'Ã©diteur de session.
        </li>
        <li>
            En indiquant en dÃ©but du fichier contenant les questions :
            <pre>COURSE_OPTIONS = { 'allow_copy_paste': 0 }</pre>
            Les attributs indiquÃ©es ici sont Ã©crasÃ©es par l'Ã©diteur interactif
            de session, mais elles servent Ã  initialiser les valeurs
            par dÃ©faut des attributs quand la session est crÃ©Ã©e.
        </li>
        <li>
            En indiquant dans la mÃ©thode <tt>question</tt> les attributs
            dÃ©sirÃ©s pour cette question.
            <pre>self.set_options({ 'allow_copy_paste': 0 }}</pre>
            Les changements indiquÃ©s ici sont prioritaires sur
            ceux de l'Ã©diteurs de question.
        </li>
    </ul>

    <h3>Langages supportÃ©s</h3>
    <p>
        Il est nÃ©cessaire d'avoir un compilateur du langage Ã©crit en JavaScript
        ou bien de dÃ©porter la compilation et/ou l'exÃ©cution sur le serveur C5Â :
    </p>
    <table class="compilers">
        <tr>
            <th> Langage
            <th> Compilateur
            <th> Remarque
            <th> Exemple de cours
        </tr>
        <tr>
            <td> JavaScript
            <td> compile_js.py
            <td> Compilation et exÃ©cution nativement<br>
                dans le navigateur web.
            <td> <a target="_blank" href="COMPILE_JS/introduction.py">COMPILE_JS/<br>introduction.py</a>
        </tr>
        <tr>
            <td> Python
            <td> compile_python.py
            <td> Utilise <a target="_blank" href="https://brython.info/">Brython</a>
                pour compiler<br>
                et exÃ©cuter dans le navigateur web.
            <td> <a target="_blank" href="COMPILE_PYTHON/introduction.py">COMPILE_PYTHON/<br>introduction.py</a>
        </tr>
        <tr>
            <td> SQL
            <td> compile_sql.py
            <td> Utilise <a target="_blank" href="http://alasql.org/">AlaSQL</a>
                pour compiler<br>
                et exÃ©cuter dans le navigateur web.
            <td> <a target="_blank" href="COMPILE_SQL/test.py">COMPILE_SQL/<br>test.py</a>
        </tr>
        <tr>
            <td> C++
            <td> compile_ccp.py
            <td> Utilise <a target="_blank" href="https://github.com/felixhao28/JSCPP">JSCPP</a>
                pour compiler<br>
                et exÃ©cuter dans le navigateur web.<br>
                ATTENTION : pas de classe, structure<br>
                ni de passage par rÃ©fÃ©rence.
            <td> <a target="_blank" href="COMPILE_CPP/test.py">COMPILE_CPP/<br>test.py</a>
        </tr>
        <tr>
            <td> C++
            <td> compile_remote.py
            <td> Il ne compile pas lui-mÃªme<br>
                mais dÃ©lÃ¨gue la compilation avec<br>
                <tt>gcc</tt> ou <tt>g++</tt> ainsi que<br>
                l'exÃ©cution au serveur web.<br>
                <ul>
                    <li>Supporte <tt>cin</tt>.</li>
                    <li>PossibilitÃ© de graphiques<br>
                        interactifs avec <tt>Grapic.h</tt>.</li>
                    <li>Seul les appels systÃ¨mes<br>
                        non dangereux sont possibles,<br>
                        pas de problÃ¨me de sÃ©curitÃ©.</li>
                    <li>Temps et espace limitÃ©<br>
                        pour la compilation<br>
                        ainsi que l'exÃ©cution.</li>
                </ul>
            <td> <a target="_blank" href="COMPILE_REMOTE/test.py">COMPILE_REMOTE/<br>test.py</a>
        </tr>
        <tr>
            <td> Racket
            <td> compile_remote.py
            <td> Le serveur distant peut aussi<br>
                exÃ©cuter du LISP dans une<br>
                <em>sandbox</em> d'un processus Racket.
            <td> <a target="_blank" href="COMPILE_REMOTE/racket.py">COMPILE_REMOTE/<br>racket.py</a>
        </tr>
        <tr>
            <td> Lisp
            <td> compile_lisp.py
            <td> Utilise <a target="_blank" href="https://github.com/jcubic/lips">LIPS</a>
                pour compiler<br>
                et exÃ©cuter dans le navigateur web.
            <td> <a target="_blank" href="COMPILE_LISP/conway.py">COMPILE_LISP/<br>conway.py</a>
        </tr>
        <tr>
            <td> Texte
            <td> compile_text.py
            <td> Ce compilateur ne fait rien.
            <td> <a target="_blank" href="COMPILE_TEXT/demo.py">COMPILE_TEXT/<br>demo.py</a>
        </tr>
    </table>
    <p>
        Avec <tt>COMPILE_REMOTE</tt> et <tt>COMPILE_LISP</tt>,
        la touche <tt class="key">F8</tt> permet de
        reformater le code source, mais cela casse le <i>undo</i>.
    </p>

    <h2>Pages d'accueil</h2>
    <p>
        Les utilisateurs sont :
    </p>
    <ul>
        <li> Les roots qui dÃ©finissent la configuration globale de C5.</li>
        <li> Les administrateurs qui peuvent modifier toutes les sessions.</li>
        <li> Les auteurs qui peuvent crÃ©er des sessions et dÃ©finir les administrateurs.</li>
        <li> Les administrateurs de session qui dÃ©finissent aussi correcteurs et surveillants.</li>
        <li> Les surveillants qui placent les Ã©tudiants et gÃ¨rent le dÃ©roulement.</li>
        <li> Les correcteurs de session qui notent les copies.</li>
        <li> Les Ã©tudiants.</li>
    </ul>
    <p>
        La page d'accueil va Ãªtre diffÃ©rente pour ces diffÃ©rentes catÃ©gories de personnes.
    </p>

    <h3>Ã‰tudiant.</h3>
    <img class="screenshot" src="screen-student.svg">
    <p>
        L'Ã©tudiant voit la liste de toutes les sessions actives.
        Il doit cliquer sur la bonne si l'enseignant ne lui a pas donnÃ©
        le lien direct.
    </p>
    <p>
        Si la session n'a pas de salle d'attente on considÃ¨re qu'elle n'est
        pas en mode examen et que l'Ã©tudiant peut directement commencer Ã  travailler.
        Il se retrouve sur la page avec l'Ã©diteur de source
        qui est prÃ©sentÃ© dans la premiÃ¨re copie d'Ã©cran tout au dÃ©but.
    </p>
    <p>
        Si la session possÃ¨de une salle d'attente, cela afficheÂ :
    </p>
    <pre>Donnez votre nom Ã  l'enseignant pour qu'il vous ouvre l'examen</pre>
    <p>
        Quand l'enseignant a placÃ© l'Ã©tudiant sur son plan,
        l'Ã©tudiant recharge la page et cela afficheÂ :
    </p>
    <pre>DÃ©but dans XXX secondes.</pre>
    <p>
        La page se recharge Ã  la fin du compte Ã  rebour.
    </p>

    <h3>Root C5.</h3>
    <img class="screenshot" src="screen-root.svg">
    <p>
        L'utilisateur root est celui qui possÃ¨de tous les droits
        de paramÃ©trage sur C5.
    </p>
    <ul>
        <li> Modification de la liste des roots.
            Si aucun utilisateur n'est root alors
            n'importe peut accÃ©der Ã  la page pour pouvoir
            s'indiquer lui-mÃªme comme root.
        </li>
        <li> Modification de la liste des administrateurs
            pouvant modifier toutes les sessions
            (les roots sont automatiquement des administrateurs).</li>
        <li> Modification de la liste des crÃ©ateurs de session
            (les administrateurs sont automatiquement des crÃ©ateurs de sessions).</li>
        <li> Modification de la liste des Ã©diteurs de plan de bÃ¢timent
            (les administrateurs sont automatiquement des Ã©diteurs de plan).</li>
        <li> DurÃ©e de vie des tickets de session.</li>
        <li> Liste des noms des machines par salle, une ligne par salle :<br>
            <tt>BÃ¢timent,Salle Machine1 Machine2 Machine3...</tt>
        </li>
        <li> Liste des sessions dÃ©sactivÃ©es par leurs administrateurs afin
            de les cacher temporairement aux Ã©tudiants.
        </li>
        <li> Expression rÃ©guliÃ¨re permettant d'identifier les logins Ã©tudiants.</li>
        <li> Traduction des diffÃ©rents messages affichÃ©s (totalement incomplet).</li>
        <li> Une zone permettant de saisir du code Python qui sera
            Ã©valuÃ© sur le serveur afin de trouver et corriger des problÃ¨mes
            sans avoir besoin de le redÃ©marrer.
        </li>
    </ul>
    <p>
        Cette configuration est dans le fichier <tt>c5.cf</tt>
    </p>

    <h3>Administrateur C5, Administrateur session, Correcteur et surveillants.</h3>
    <img class="screenshot" src="screen-admin.svg">
    <p>
        Ces personnes voient la liste des sessions les concernant
        classÃ©es dans diffÃ©rents blocsÂ :
    </p>
    <table>
        <tr>
            <th colspan="2"> Ã‰tat </th>
            <th> ProposÃ©e Ã  </th>
            <th> Utilisable par</th>
        </tr>
        <tr>
            <td colspan="2"> <b>Brouillon</b><br><i>Draft</i> </td>
            <td> CrÃ©ateur+admins</td>
            <td> CrÃ©ateur+admins</td>
        </tr>
        <tr>
            <td rowspan="3"> <b>PrÃªte</b><br><i>Ready</i> </td>
            <td> Avant </td>
            <td> Tout le monde</td>
            <td> CrÃ©ateur+admins+correcteurs</td>
        </tr>
        <tr>
            <td> Pendant </td>
            <td> Tout le monde</td>
            <td> Tout le monde</td>
        </tr>
        <tr>
            <td> AprÃ¨s </td>
            <td> Tous sauf Ã©tudiants<br>Le surveillant doit pouvoir rouvrir</td>
            <td> CrÃ©ateur+admins+correcteurs</td>
        </tr>
        <tr>
            <td colspan="2"> <b>Correction</b><br><i>Grade</i> </td>
            <td> CrÃ©ateur+admins+correcteurs</td>
            <td> CrÃ©ateur+admins+correcteurs</td>
        </tr>
        <tr>
            <td colspan="2"> <b>TerminÃ©e</b><br><i>Done</i> </td>
            <td> CrÃ©ateur+admins+correcteurs<br>
                Ã‰tudiants s'il y a un retour.</td>
            <td> CrÃ©ateur+admins+correcteurs<br>
                Ã‰tudiants s'il y a un retour.
            </td>
        </tr>
        <tr>
            <td colspan="2"> <b>ArchivÃ©e</b><br><i>Archive</i> </td>
            <td> CrÃ©ateur+admins</td>
            <td> CrÃ©ateur+admins</td>
        </tr>
    </table>

    <p>
        Chaque bloc contient les informations suivantes :
    </p>
    <ul>
        <li> Nom de la session.</li>
        <li> Compilateur utilisÃ©.</li>
        <li> Nombre d'Ã©tudiants qui se sont connectÃ©s sur la session.</li>
        <li> Nombre d'Ã©tudiants attendant dans la salle d'attente de l'examen.</li>
        <li> Nombre d'Ã©tudiants ayant travaillÃ© il y a moins de 5 minutes.</li>
        <li> Nombre d'Ã©tudiants que j'ai placÃ© sur le plan et que je surveille.</li>
        <li> Date de dÃ©but de session (si vide depuis toujours).</li>
        <li> Date de fin de session (si vide Ã  tout jamais).</li>
        <li> Options de session :
            <ul>
                <li>ğŸ¨ coloration syntaxique</li>
                <li>âœ‚ copier/coller autorisÃ©</li>
                <li>ğŸš¦ mode examen (placement requis)</li>
                <li>S accÃ¨s sÃ©quenciel des questions</li>
                <li>ğŸ”“ sauver dÃ©bloque la question suivante</li>
                <li>IP autorise les changements d'IP.</li>
            </ul>
        </li>
        <li> <tt class="link">Edit</tt> permet de configurer la session si on est administrateur.</li>
        <li> <tt class="link">Try</tt> permet de tester la session (si elle n'est pas ouverte, il faut Ãªtre
            administrateur de la session).
        </li>
        <li> <tt class="link">Place</tt> permet de gÃ©rer la salle d'attente, placer les Ã©tudiants sur le plan
            et d'accÃ©der Ã  leur travail pour le corriger.
        </li>
        <li> Â«CreatorÂ» la personne qui a crÃ©Ã© la session.</li>
        <li> Â«AdminsÂ» les personnes qui peuvent modifier la session (en plus du crÃ©ateur).</li>
        <li> Â«GradersÂ» les personnes qui peuvent corriger les copies
            et tester l'examen avant son ouverture la session (en plus des admins).</li>
        <li> Â«ProctorsÂ» les personnes pouvant surveiller l'examen (en plus des correcteurs).</li>
    </ul>
    <p>
        Au desssous du tableau on trouve des actions dÃ©pendant
        de la personne connectÃ©e.
    </p>
    <ul>
        <li> La possibilitÃ© de dÃ©sactiver un ensemble de sessions.
            Par exemple pour que les Ã©tudiants ne puissent pas aller
            sur des sessions d'exercices pendant un examen.
        </li>
        <li> La possibilitÃ© de changer le paramÃ¨trage d'un ensemble de sessions
            afin de ne pas devoir faire la mÃªme action sur plein de sessions.
        </li>
        <li> Ajout d'une nouvelle session.
            Vous cliquez sur le compilateur puis choisissez le fichier Python
            dÃ©finissant la question.
            Il est conseillÃ© de prÃ©fixer le nom du fichier Python
            par le code de l'UE.
        </li>
        <li> Ã‰diter le plan d'un bÃ¢timent directement sur la page web.</li>
    </ul>
    <p>
        Cette configuration est enregistrÃ©e sous le nom <tt>COMPILE_*/nom_sujet.cf</tt>
        le sujet est dans <tt>COMPILE_*/nom_sujet.py</tt> et les logs des Ã©tudiants
        dans le rÃ©pertoire <tt>COMPILE_*/nom_sujet</tt>.
    </p>

    <h2>Les autres pages de C5.</h2>

    <h3>Administrateur : Ã©diteur de session.</h3>
    <img class="screenshot" src="screen-editor.svg">
    <p>
        Il permet de dÃ©finir tous les paramÃ¨tres de la session en cours.
        Les informations concernant la configuration sont sauvegardÃ©s
        dÃ¨s que l'on sort du champ qui a Ã©tÃ© modifiÃ©.
        Un retour sur l'enregistrement est affichÃ© en haut,
        si valeur reste rouge c'est qu'elle n'a pas pu Ãªtre enregistrÃ©e.
    </p>
    <ul>
        <li> Le premier onglet Â«ConfigÂ» permet de modifier les attributs
            dÃ©finis prÃ©cÃ©demment dans l'immense table.</li>
        <li> Le deuxiÃ¨me onglet Â«AccessÂ» dÃ©fini les droits d'accÃ¨s.
            <ul>
                <li> Le crÃ©ateur de la session (non modifiable).</li>
                <li> Les administrateurs pouvant modifier cette page.</li>
                <li> Les personnes pouvant noter la session et la tester Ã  l'avance.</li>
                <li> Les surveillants qui placent les Ã©tudiants.</li>
                <li> La liste des Ã©tudiants attendus qui verront
                    la session en gras dans la liste.
                    On peut cacher la session aux Ã©tudiants non attendus.
                </li>
                <li>
                    Les Ã©tudiants avec un tiers temps automatique.
                </li>
            </ul>
        </li>
        <li> L'onglet Â«SourceÂ» permet d'Ã©diter les question en interactif.
            Mais les Ã©tudiants devront recharger la page s'ils ont commencÃ©s.
        </li>
        <li> L'onglet Â«TryÂ» permet d'essayer la session.
        </li>
        <li>
            L'onglet Â«PlaceÂ» permet de placer les Ã©tudiants.
        </li>
        <li>
            L'onglet Â«ChatÂ» permet de lister tous les messages
            de surveillance de la session.
        </li>
        <li>
            L'onglet Â«StudentÂ» permet de lister les Ã©tudiants
            qui se sont connectÃ©s sur la session.
        </li>
        <li>
            L'onglet Â«GradingÂ» permet de dÃ©finir
            Le barÃ¨me de notation de la session en texte libre.
            Ainsi que la note maximum obtenable.
            Le barÃ¨me est sur l'ensemble des questions.
            Ne rien changer dans le barÃ¨me une fois que la correction a commencÃ©
            Ã  part les typos.
        </li>
        <li>
            L'onglet Â«Export/StatÂ» analyse le travail de l'ensemble
            des Ã©tudiants et des correcteurs afin d'en tirer des informations.
        </li>
    </ul>
    <p>
        A droite des onglets on trouve un menu permettant
        de faire des actions.
    </p>

    <h3>Administrateur : onglet Â«Export/StatÂ».</h3>
    <img class="screenshot" src="screen-course.svg">
    <p>
        Les administrateurs de session peuvent regarder le dÃ©tail de la session.
        Pour chaque Ã©tudiant on a le dÃ©tail et le rÃ©sumÃ© de toute
        la colonne sur la derniÃ¨re ligne (importable directement dans TOMUSS).
    </p>
    <ul>
        <li> L'identifiant de l'Ã©tudiant.
            Si l'on clique dessus on arrive sur le plan du bÃ¢timent
            avec un zoom sur l'Ã©tudiant.
        </li>
        <li>
            Le temps supplÃ©mentaire en minutes accordÃ© par le surveillant.
        </li>
        <li>
            Le status de l'Ã©tudiant :
            <ul>
                <li> En salle d'attente, il ne peut pas encore commencer.</li>
                <li> En attente de dÃ©but d'examen.</li>
                <li> L'examen est en cours.</li>
                <li> L'examen est fini sauf pour les tiers-temps.</li>
                <li> L'examen est terminÃ©.</li>
            </ul>
        </li>
        <li> Les questions rÃ©ussies et leur nombre.
            En bas le code source des questions rÃ©ussies ou des questions sauvegardÃ©es.
        </li>
        <li>
            La note de la copie.
        </li>
        <li>
            La ou les personnes ayant corrigÃ© la copie.
        </li>
        <li>
            Le temps total pour faire l'examen en ajoutant la durÃ©e de chaque question
            et en ne comptant pas les arrÃªts de travail.
        </li>
        <li>
            Nombre de touches frappÃ©es, de clics de souris, de 'copiÃ©' de texte,
            de copiÃ©s interdits, de 'collÃ©' (ou glissÃ©) de texte, de collÃ©s interdits.
        </li>
        <li>
            Blur : nombre de fois que l'Ã©tudiant est aller voir dans une autre fenÃªtre.
            Ce nombre est utilisÃ© sur le plan de salle pour indiquer qu'il y a un problÃ¨me.
        </li>
        <li>
            Blur time : le temps en secondes avec le focus perdu.
        </li>
        <li>
            Un graphique avec un rectangle par question dont la taille
            est proportionnelle au temps passÃ© pour rÃ©pondre Ã  la question.
        </li>
        <li>
            Des fichiers de log de l'Ã©tudiant permettant de savoir
            trÃ¨s exactement tout ce qu'il a fait.
        </li>
    </ul>
    <p>
        Au dessous de la table, les listes des Ã©tudiants qui n'ont pas
        Ã©tÃ© corrigÃ©s ou bien avec une correction incomplÃ¨te.
        Les listes sont aussi affichÃ©es en triant par correcteur.
    </p>

    <h3>Surveillant : placement des Ã©tudiants.</h3>
    <img class="screenshot" src="screen-checkpoint.svg">
    <p>
        Le surveillant voit la liste des sessions qu'il doit surveiller,
        Il clique alors sur <tt class="link">Place</tt> pour gÃ©rer la salle d'attente.
        Les enseignants peuvent tester la session mÃªme s'ils n'ont pas
        Ã©tÃ© placÃ©s sur le plan.
    </p>
    <p>
        La salle d'attente affiche un menu Ã  gauche de l'Ã©cran :
    </p>
    <ul>
        <li> Un gyrophare ğŸš¨ permet d'afficher un message sur tous
            les plans des surveillants.
            Les messages sont affichÃ©s en bas Ã  droite du plan.
            Ils sont masquable avec le bouton Ã—.
        </li>
        <li> La loupe ğŸ” permet de zoomer sur l'Ã©tudiants dont on donne
            le <b>dÃ©but</b> du nom, prÃ©nom ou numÃ©ro d'Ã©tudiant.
            Si plusieurs sont possibles, un menu est proposÃ©.
        </li>
        <li> Liste des plans des bÃ¢timents.
            Le bÃ¢timent initial affichÃ© peut Ãªtre choisi par l'administrateur
            de la session.
        </li>
        <li> Â« Seulement les salles Â» permet de n'afficher que les
            salles qui contiennent des Ã©tudiants que l'on a placÃ©.
            C'est utile pour retrouver ses Ã©tudiants ou bien si l'on
            surveilles 2 salles Ã©loignÃ©es car elles seront rapprochÃ©es
            l'une de l'autre.
            Cette fonctionnalitÃ© peut Ãªtre (dÃ©s)activÃ©e par
            l'administrateur de la session.
        </li>
        <li> Â« Mettre en Ã©vidence les logins Â» permet d'afficher en au de
            la liste les Ã©tudiants dont le login est indiquÃ© dans la liste.
            Cette fonctionnalitÃ© peut Ãªtre (dÃ©s)activÃ©e par
            l'administrateur de la session.
        </li>
        <li> Liste des Ã©tudiants qui n'ont pas encore Ã©tÃ© acceptÃ©s pour commencer l'examen.
            Il faut les faire glisser sur le sujet â’¶ ou â’· ou bien sur une chaise.
            Si le lien entre les noms des machines et les salles a Ã©tÃ© fait dans
            la configuration alors seul les Ã©tudiants prÃ©sents dans les
            salles affichÃ©es complÃ¨tement (pas Ã  moitiÃ©) sur l'Ã©cran
            seront indiquÃ©s dans la liste des Ã©tudiants Ã  placer.
            Cette liste est mise Ã  jour en fin de dÃ©placement,
            pas pendant que le plan bouge sur l'Ã©cran.
        </li>
        <li>
            Le haut du plan contient la lÃ©gende et comment l'utiliser.
            Cette longue lÃ©gende n'est pas prÃ©sente sur la copie d'Ã©cran.
        </li>
    </ul>
    <p>
    <p>
        Les ordinateurs en rouge sont ceux avec un problÃ¨me,
        les surveillants peuvent dÃ©clarer les problÃ¨mes
        et on peut aussi indiquer que le poste a Ã©tÃ© rÃ©parÃ©.
    </p>
    </p>
    <p>
        Concernant l'Ã©tudiant placÃ© sur le plan :
    </p>
    <ul>
        <li>
            Les Ã©tudiants qui changent de fenÃªtres pendant l'examen sont
            mis en Ã©vidence sur cette vue avec un barre de progression rouge
            indiquant le nombre de changements de fenÃªtres.
            Au dessus de cette barre il est indiquÃ© le nombre de
            secondes pendant lesquelles le focus a Ã©tÃ© perdu.
        </li>
        <li>
            Au dessous de la barre de progression rouge il y a un barre verte
            indiquant le nombre de questions rÃ©ussies dans la suite d'exercices.
        </li>
        <li>
            Si l'Ã©tudiant a Ã©tÃ© notÃ©, sa note est indiquÃ©e ainsi
            que le nombre d'Ã©lÃ©ments notÃ©s.
            Le symbole <span style="font-family:emoji">ğŸ‘</span> indique les informations dont la diffusion
            est autorisÃ©es par le correcteurÂ :
            commentaires, notes et dÃ©tail des notes.
        </li>
        <li>
            La couleur de l'Ã©tudiant indique :
            <ul>
                <li> Gris : surveillÃ© par un autre enseignant.</li>
                <li> Noir : travaille avec vous.</li>
                <li> Bleu : n'a rien fait depuis 5 minutes.</li>
                <li> Vert : examen clÃ´turÃ©</li>
                <li> Rouge : PlacÃ© dans la mauvaise salle.</li>
            </ul>
        </li>
    </ul>

    <h3>Surveillant : administrer la session, regarder le code.</h3>
    <img src="screen-spy.svg" class="screenshot">
    <p>
        Quand on clique sur un Ã©tudiant on peut accÃ©der Ã  la derniÃ¨re
        version de son travail.
        On peut utiliser un ascenseur temporel pour voir l'Ã©volution
        de ce qu'il a fait.
        Le dÃ©placement dans le temps est instantanÃ©.
        Les zones rouges indiquent les moments oÃ¹ le focus a Ã©tÃ© perdu.
    </p>
    <ul>
        <li> Traits noirs : les compilations.
        <li> Traits bleus : les sauvegardes faites par l'Ã©tudiant.
        <li> Traits verts : les questions rÃ©ussies (avec le numÃ©ro de la question).
    </ul>
    <p>
        Le code source s'affiche alors au dessous de la barre d'ascenseur.
    </p>
    <p>
        Le bouton Â«ClÃ´turer examenÂ» doit Ãªtre utilisÃ© quand il quitte
        la salle afin qu'il ne puisse pas continuer l'examen Ã  l'extÃ©rieur.
        L'Ã©tudiant a un bouton Â«Terminer ExamenÂ» sur l'Ã©diteur de source pour terminer l'examen.
        Une fois l'examen clÃ´turÃ©, le bouton devient Â«Rouvrir l'examenÂ».
    </p>
    <p>
        On peut indiquer le temps bonus total pour que l'Ã©tudiant
        termine l'examen.
        C'est utile si l'Ã©tudiant arrive en retard ou bien s'il y a
        un problÃ¨me technique pendant l'examen.
        Les tiers-temps ont automatiquement du temps en plus
        qui n'apparaÃ®t pas ici.
    </p>
    <p>
        Ont ferme la popup en cliquant sur Ã— ou bien en appuyant
        sur la touche escape.
    </p>
    <p>
        Le bouton Â«Noter l'Ã©tudiantÂ» permet de noter le source de l'Ã©tudiantÂ :
    </p>
    <ul>
        <li> Le source ayant passÃ© les tests de rÃ©gression.</li>
        <li> Le source sauvegardÃ© par l'Ã©tudiant.</li>
        <li> Le source compilÃ© avec <tt>compile_remote</tt>.</li>
        <li> Si aucun des prÃ©cÃ©dents : le source qui Ã©tait sur
            l'Ã©cran 5 secondes avant la fin de l'examen.
        </li>
    </ul>

    <h3>Correcteur : notes, commentaires et retours.</h3>
    <img src="screen-grade.svg" class="screenshot">
    <p>
        Il clique sur l'Ã©tudiant placÃ© et arrive sur l'Ã©diteur C5
        avec le barÃ¨me de notation affichÃ©.
        Il n'a plus qu'Ã  cliquer pour mettre les notes qui
        sont immÃ©diatement enregistrÃ©es.
        Si 2 enseignants notent en mÃªme temps le mÃªme Ã©tudiant,
        ils perdent une seule note dans le pire cas.
    </p>
    <p>
        Le correcteur peut ajouter des commentaires aux lignes
        et envoyer un mail Ã  l'Ã©tudiant avec son programme commentÃ©.
    </p>
    <p>
        Le correcteur peut essayer le code de l'Ã©tudiant pour le tester
        et mÃªme le modifier temporairement pour voir ce que cela donne.
    </p>
    <p>
        Le correcteur peut dÃ©cider de corriger autre chose que la
        derniÃ¨re version sauvegardÃ©e par l'Ã©tudiantÂ :
    </p>
    <ul>
        <li> La derniÃ¨re compilation faite, mais seulement
            si c'est un session avec le compilateur REMOTE.</li>
        <li> La version qui a passÃ© les tests de rÃ©gression la premiÃ¨re fois,
            sans les amÃ©liorations que l'Ã©tudiant aurait pu ajouter aprÃ¨s.
        </li>
        <li> La sauvegarde de derniÃ¨re seconde qui est faite automatiquement
            par C5 10 secondes avant la fin de l'examen si l'Ã©tudiant
            n'a pas sauvegardÃ© lui-mÃªme la minute prÃ©cÃ©dente.
        </li>
    </ul>
    <p>
        Une fois la correction faite, il indique ce qu'il veut diffuser Ã  l'Ã©tudiant.
    </p>
    <ul>
        <li> Rien du tout.</li>
        <li> Le code source de l'Ã©tudiant. C'est le choix par dÃ©faut.</li>
        <li> + Les commentaires saisis.</li>
        <li> + La note globale.</li>
        <li> + Le dÃ©tail du barÃ¨me et des points.</li>
    </ul>
    <p>
        Le gestionnaire de session indique la mÃªme chose de son cotÃ©
        pour l'ensemble des Ã©tudiants et ce qui est appliquÃ© est
        ce sur quoi ils sont d'accord, donc le minimum des 2 quantitÃ©s
        d'information.
    </p>
    <p>
        Sur la plan, un <span style="font-family:emoji">ğŸ‘</span> indique les informations dont la diffusion
        est autorisÃ© par le correcteur.
    </p>
    <p>
        <span style="font-family:emoji">âœ‰</span> permet d'ouvrir la messagerie
        afin de composer un message pour l'Ã©tudiant.
        Le corps du message indique que l'Ã©tudiant peut
        trouver la correction sur C5, avec un lien direct sur celle-ci.
    </p>

    <h2>Guides rapides d'utilisation.</h2>
    <p>
        Pour les diffÃ©rents intervenants.
    </p>

    <h3>Le responsable de la session.</h3>

    <p>
        Pour lancer une session d'examen :
    </p>
    <ul>
        <li> DÃ©poser le fichier dÃ©crivant la session.</li>
        <li> Indiquer les heures de dÃ©but et fin.</li>
        <li> Indiquer qu'il y a une salle d'attente (les Ã©tudiants devront Ãªtre placÃ©s).</li>
        <li> Indiquer la liste des tiers-temps.</li>
        <li> Indiquer la liste des surveillants.</li>
    </ul>
    <p>
        AprÃ¨s la session d'examen :
    </p>
    <ul>
        <li> Indiquer la liste des correcteurs.</li>
        <li> Demander aux correcteurs de corriger.
            Si les correcteurs ne corrigent pas par salle,
            on peut envoyer une liste d'URL pour
            corriger chacun de leurs Ã©tudiantsÂ :
            <tt>[adresse_C5]/grade/[nom-session]/[numÃ©ro-Ã©tudiant]</tt>
        </li>
        <li>
            Cliquer sur <tt class="button">See student results</tt>
            pour voir l'avancement des corrections,
            exporter tous les codes sources ou toutes les notes des Ã©tudiants.
        </li>
    </ul>

    <h3>Le surveillant.</h3>
    <p>
        Il est recommander d'envoyer un mail aux surveillants,
        pour leur expliquer leur travail.
    </p>
    <ul>
        <li> Aller sur C5.</li>
        <li> Cliquer sur <tt class="link">Place</tt> de la session d'examen.</li>
        <li> Une fois sur le plan du bon bÃ¢timent :
            cliquer sur un espace vide
            dans votre salle pour zoomer dessus.
            La molette et le glisser du plan fonctionnent aussi.
        </li>
        <li> Dire aux Ã©tudiants qui arrivent d'aller sur C5
            et de cliquer sur le sujet d'examen.
        </li>
        <li>
            Le nom de l'Ã©tudiant est en gros sur leur Ã©cran,
            Faire glisser l'Ã©tudiant sur â’¶ ou â’·.
        </li>
        <li>
            Dire Ã  l'Ã©tudiant de recharger la page,
            il y aura un compte Ã  rebour Ã  la fin duquel
            la page se rechargera automatiquement.
        </li>
        <li>
            Si l'Ã©tudiant n'est pas en plein Ã©cran il y a un gros encart rouge
            lui disant de passer en plein Ã©cran.
        </li>
        <li>
            Laisser le plan ouvert : sur le nom de l'Ã©tudiant une barre rouge
            va grandir Ã  chaque fois que l'Ã©tudiant perd le focus.
            Surveiller de prÃ¨s ces Ã©tudiants.
        </li>
        <li>
            Dire aux Ã©tudiants de sauvegarder chaque fois qu'ils
            ont une version qui fonctionne ou franchi une Ã©tape.
            Il y a souvent des prises Ã©lectriques mal enfoncÃ©es.
            C'est la derniÃ¨re sauvegarde qui sera notÃ©e.
        </li>
        <li>
            Cliquer sur le dÃ©but du nom d'Ã©tudiant, pourÂ :
            <ul>
                <li>Â«ClÃ´turer examenÂ» si l'Ã©tudiant est parti avant la fin
                    sans terminer l'examen lui mÃªme.</li>
                <li>Â«Rouvrir l'examenÂ» en cas de clÃ´ture par erreur.</li>
                <li>Ajouter des minutes de temps bonus.
                    Pour les tiers temps cela a dÃ©jÃ  Ã©tÃ© fait,
                    donc ne pas donner plus de temps.</li>
                <li>Regarder l'Ã©volution de son code source dans le temps.</li>
            </ul>
        <li>Le gyrophare ğŸš¨ permet de faire afficher un message sur
            les plans de tous les surveillants.</li>
    </ul>

    <h3>Le correcteur.</h3>
    <p>
        On suppose que la liste des correcteurs ainsi que le barÃ¨me
        ont Ã©tÃ© indiquÃ©s dans le paramÃ©trage de la session.
    </p>
    <ul>
        <li>
            Allez sur C5 et cliquer sur <tt class="link">Place</tt>
            de la bonne session
            pour accÃ¨der Ã  la salle contenant les Ã©tudiants Ã  noter.
        </li>
        <li>
            Noter un unique Ã©tudiant en cliquant sur le dÃ©but de son nom
            puis en cliquant sur le bouton <tt class="button">Noter</tt>.
        </li>
        <li>
            Ou bien ouvrir un onglet de correction pour
            chacun des Ã©tudiants de la salle en cliquant sur ğŸ“.
            Il faut autoriser l'affichage des popups.
        </li>
        <li>
            Une fois sur la page de correction, cocher les diffÃ©rents Ã©lÃ©ments du barÃ¨me
            et saisir les commentaires dans les cases Ã  droite du code source.
        </li>
        <li>
            Quand le barÃ¨me est complÃ¨tement rempli Â«Retour Ã©tudiant via C5Â» passe en vert.
            Choisissez ce que vous voulez faire afficher Ã  l'Ã©tudiant.
        </li>
        <li>
            L'enveloppe Ã  gauche de son nom permet d'ouvrir la messagerie
            pour le prÃ©venir si nÃ©cessaire.
        </li>
    </ul>

    <h2>Installation et administration de C5.</h2>

    <h3>Installer C5.</h3>
    <p>
        Lancez ces commandes (Ubuntu) :
    </p>
    <pre>sudo apt update
sudo apt install python3-websockets python3-aiohttp astyle curl npm racket zip # nginx certbot
git clone https://github.com/texcoffier/C5.git
cd C5
make</pre>
    <p>
        Si tout s'est bien passÃ©, une page web s'ouvre sur l'interface d'administration.
        Vous pouvez alors cliquer sur Â«SessionÂ» pour choisir une session.
    </p>
    <h3>Configuration et gestion C5.</h3>
    <p>
        La configuration de C5 est un script exÃ©cutable, vous pouvez en crÃ©er
        autant que vous voulez.
        Il est conseillÃ© de faire une configuration pour le dÃ©veloppement local
        et une configuration pour la production.
        <b>Dans tous les cas vous lancez les commandes sur votre machine de dÃ©veloppement,
            elle seront Ã©ventuellement exÃ©cutÃ©es via SSH sur le serveur de production.</b>
        On va supposer que vous appeliez votre configuration <tt>c5</tt>,
        voici ce que vous devez faireÂ :
    </p>
    <ul>
        <li> <tt>cp 127 c5 ; chmod a+x c5</tt> faites une copie de la configuration de base.</li>
        <li> Vous Ã©ditez le script <tt>c5</tt> pour mettre les bonnes valeurs.
            Pour avoir un peu d'aide, lancez simplementÂ : <tt>./c5</tt>
        </li>
        <li> <tt>../c5 launcher</tt> gÃ©nÃ¨re 'launcher', nÃ©cessaire
            quand <tt>launcher.c</tt> change, lance un <tt>sudo</tt>
            pour le recrÃ©er car le bit SUID est nÃ©cessaire.</li>
        <li> <tt>./c5 start</tt> pour lancer les serveurs locaux ou bien distants,
            les logs sont dans <tt>http_server.log</tt>, <tt>compile_server.log</tt>
            et <tt>infos_server.log</tt> sur la machine qui fait tourner les serveurs.</li>
        <li> <tt>./c5 open JS=introduction</tt> pour ouvrir <tt>COMPILE_JS/introduction.js</tt>
            dans le navigateur web.</li>
        <li> <tt>./c5 compile</tt> pour recompiler tout ce qui est nÃ©cessaire
            quand vous avez modifiÃ© un cours.
            Regardez bien s'il y a des erreurs de traduction.</li>
    </ul>
    <p>
        Plus rarement utilisÃ© :
    </p>
    <ul>
        <li> <tt>./c5 os</tt> installation paquets nÃ©cessaires sur la machine.
        <li> <tt>./c5 SSL-LE</tt> gÃ©nÃ©ration du certificat pour NGINX.
            Cela ne configure pas NGINX.</li>
        <li> <tt>./c5 c5 ; ./c5 restart</tt> Mise Ã  jour d'une nouvelle version Ã  partir de GitHub</li>
        <li> <tt>./c5 cp ; ./c5 restart</tt> Mise Ã  jour d'une nouvelle version Ã  partir des sources locaux</li>
    </ul>

    <h3>Configuration NGINX.</h3>
    <p>
        Il faut remplacer /WebSocket/, 4201, 4202 par les bonnes valeurs.
    </p>
    <pre>
server {
    listen 443 ssl;
    server_name c5.univ-lyon1.fr;
    ssl_certificate /etc/letsencrypt/live/c5.univ-lyon1.fr/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/c5.univ-lyon1.fr/privkey.pem; # managed by Certbot
    location ~ /WebSocket/ {
        rewrite ^/WebSocket/(.*) /$1 break;
        proxy_pass http://127.0.0.1:4202;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection Upgrade;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        }
    location ~ {
        proxy_pass http://127.0.0.1:4201;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        }
  }
            </pre>

    <h2>DÃ©veloppement de C5.</h2>

    <h3>Organisation des sources.</h3>
    <p>
        LÃ©gende :
    </p>
    <ul>
        <li class="compilateur"> Les compilateurs (cotÃ© navigateur web). </li>
        <li class="cours"> Les cours (cotÃ© navigateur web).</li>
        <li class="js"> Traduit en JavaScript pour Ãªtre exÃ©cutÃ© cotÃ© navigateur web.</li>
        <li class="executable"> Les programmes.</li>
        <li class="serveur"> Les serveurs.</li>
    </ul>
    <p>
        Ordre alphabÃ©tique des fichiers.
    </p>
    <table>
        <tr>
            <td>127
            <td>Administre C5 sur la machine locale (mÃªme paramÃ¨tres que utilities.py).
        </tr>
        <tr>
            <td>BUILDINGS/Ariane<br>
                BUILDINGS/Grignard<br>
                BUILDINGS/Nautibus<br>
                BUILDINGS/empty
            <td> Les plans des bÃ¢timents.
                Empty est pour la salle privÃ©e dans enseignants.
        </tr>
        <tr class="cours">
            <td>COMPILE_CPP/test.py
            <td>Exemple d'utilisation de compile_cpp et de rÃ©cupÃ©ration
                des informations concernant la place de l'Ã©tudiant dans la salle.
        </tr>
        <tr class="cours">
            <td>COMPILE_JS/example.py
            <td>Un exemple minimaliste de cours pour commencer.
        </tr>
        <tr class="cours">
            <td>COMPILE_JS/introduction.py
            <td>Mini cours de JavaScript.
        </tr>
        <tr class="cours">
            <td>COMPILE_LISP/conway.py
            <td>Un exemple de programme LISP.
        </tr>
        <tr class="">
            <td>COMPILE_PYTHON/editor.py
            <td>C'est l'Ã©diteur interactif de sujet.
                Les sujets Ã©tant Ã©crits en Python,
                il est nÃ©cessaire de les Ã©diter et tester
                dans l'environnement Python.
        </tr>
        <tr class="cours">
            <td>COMPILE_PYTHON/introduction.py
            <td>Un mini cours Python.
        </tr>
        <tr class="cours">
            <td>COMPILE_REMOTE/errors.py
            <td>Une sÃ©rie d'exercices dans lesquels l'Ã©tudiant doit corriger des erreurs de syntaxe.
        </tr>
        <tr class="cours">
            <td>COMPILE_REMOTE/files.py
            <td>Exemple de test sur la lecture et l'Ã©criture de fichiers.
        </tr>
        <tr class="">
            <td>COMPILE_REMOTE/grapic-chien.png
            <td>MÃ©dia utilisÃ© dans les exemples Grapic.
        </tr>
        <tr class="cours">
            <td>COMPILE_REMOTE/grapic.py
            <td>Les exemples Grapic pour faire des applications graphiques.
        </tr>
        <tr class="cours">
            <td>COMPILE_REMOTE/racket.py
            <td>Un exemple utilisant l'interprÃ©teur Racket sur le serveur.
        </tr>
        <tr class="cours">
            <td>COMPILE_REMOTE/test.py
            <td>Exemple d'utilisation de compile_remote.
        </tr>
        <tr class="cours">
            <td>COMPILE_SQL/test.py
            <td>Exemple d'utilisation de compile_sql pour tester s'il fonctionne.
        </tr>
        <tr class="cours">
            <td>COMPILE_TEXT/demo.py
            <td>Exemple d'utilisation de compile_text pour la saisie de texte libre.
        </tr>
        <tr>
            <td>DOCUMENTATION/c5.svg
            <td>Lien vers Â«c5.svgÂ»
        </tr>
        <tr class="executable">
            <td>DOCUMENTATION/create_video
            <td>Script shell Ã  Ã©diter pour crÃ©er des vidÃ©os
        </tr>
        <tr>
            <td>DOCUMENTATION/favicon.ico
            <td>Lien vers Â«favicon.svgÂ»
        </tr>
        <tr>
            <td><a href="flyer.html">DOCUMENTATION/flyer.html</a>
            <td>Un diaporama pour une prÃ©sentation orale de C5.
        </tr>
        <tr>
            <td>DOCUMENTATION/index.html
            <td>Cette page d'explication.
        </tr>
        <tr>
            <td>DOCUMENTATION/<br>
                screen-admin.(png|svg)<br>
                screen-checkpoint.(png|svg)<br>
                screen-course.(png|svg)<br>
                screen-editor.(png|svg)<br>
                screen-grading.(png|svg)<br>
                screen-python.(png|svg)<br>
                screen-root.(png|svg)<br>
                screen-session-editor.(png|svg)<br>
                screen-src.png<br>
                screen-student.(png|svg)<br>
                screen-time-travel.(png|svg)
            <td>Graphiques utilisÃ©es par la documentation.
        </tr>
        <tr>
            <td>
                DOCUMENTATION/<br>
                tuto_student.webm<br>
                tuto_teacher.webm
            <td>
                Tuto vidÃ©o complÃ¨tement obsolette.
        </tr>
        <tr class="">
            <td>Grapic.h
            <td>Fourni la bilbiothÃ¨que Grapic Ã  C5
        </tr>
        <tr>
            <td>Makefile
            <td>UtilisÃ© par <tt>utilities.py</tt>, pas directement.
        </tr>
        <tr>
            <td>README.rst
            <td>Page d'accueil pour GitHub.
        </tr>
        <tr class="js">
            <td>adm_course.py
            <td>Page d'accueil du cours avec les statistiques Ã©tudiants.
        </tr>
        <tr class="js">
            <td>adm_root.py
            <td>Page d'accueil des administrateurs C5.
        </tr>
        <tr class="js">
            <td>adm_session.css<br>
                adm_session.py
            <td>Ã‰diteur de session.
        </tr>
        <tr>
            <td>c5.svg
            <td>Logo.
        </tr>
        <tr class="js">
            <td>ccccc.css<br>ccccc.py
            <td>Interface d'Ã©tudiant pour travailler.
        </tr>
        <tr class="js">
            <td>checkpoint.py
            <td>Gestion de la salle d'attente et placement des Ã©tudiants sur le plan.
        </tr>
        <tr class="executable">
            <td>clean.py
            <td>Script effaÃ§ant toutes les traces laissÃ©es par les tests de rÃ©gression.
        </tr>
        <tr class="executable">
            <td>comments.py
            <td>Calcule les statistiques sur les commentaires faits par les correcteurs.
        </tr>
        <tr class="js">
            <td>compatibility.py
            <td>Utilitaires pour ajouter des fonctions manquantes Ã  JavaScript.
                Et aussi des fonctions utiles pour plusieurs pages.
        </tr>
        <tr class="compilateur">
            <td>compile.py
            <td>La classe racine de tous les compilateurs.
        </tr>
        <tr class="compilateur">
            <td>compile_cpp.py
            <td>Compilateur incomplet C++ en javascript.
        </tr>
        <tr class="compilateur">
            <td>compile_js.py
            <td>InterprÃ©teur JavaScript.
        </tr>
        <tr class="compilateur">
            <td>compile_lisp.py
            <td>InterprÃ©teur LISP.
        </tr>
        <tr class="compilateur">
            <td>compile_python.py
            <td>InterprÃ©teur Python (brython).
        </tr>
        <tr class="serveur">
            <td>compile_racket.rkt
            <td>Programme LISP interprÃ©tant dans une sandbox le fichier
                LISP dont le nom est envoyÃ© sur l'entrÃ©e standard.
                Ce programme est lancÃ© une fois par session car Racket
                prend du temps pour dÃ©marrer.
        </tr>
        <tr class="compilateur">
            <td>compile_remote.py
            <td>Contacte compile_server.py pour compiler et exÃ©cuter.
        </tr>
        <tr class="serveur">
            <td>compile_server.py
            <td>Serveur de compilation et exÃ©cution de C++ avec diffÃ©rents
                compilateur et options possibles.
        </tr>
        <tr class="compilateur">
            <td>compile_sql.py
            <td>InterprÃ©teur SQL (alasql).
        </tr>
        <tr class="compilateur">
            <td>compile_text.py
            <td>Compilateur ne faisant rien pour rÃ©ponses en texte libre
        </tr>
        <tr class="serveur">
            <td>dns_server.py
            <td>Un filtre (stdin/stdout) calculant le nom de la machine Ã 
                partir de son adresse IP.
        </tr>
        <tr>
            <td>favicon.ico
            <td>L'icÃ´ne des pages web, calculÃ©e Ã  partir de <tt>c5.svg</tt>.
        </tr>
        <tr class="js">
            <td>home.py
            <td>Page d'accueil des Ã©tudiants.
        </tr>
        <tr class="serveur">
            <td>http_server.py
            <td>Le serveur web C5 pouvant fonctionner seul ou derriÃ¨re
                un server web classique.
        </tr>
        <tr class="serveur">
            <td>infos_server.py
            <td>Un filtre (stdin/stdout) calculant le nom et prÃ©nom Ã  partir du login.
        </tr>
        <tr class="serveur">
            <td>killer<br>
                killer.c
            <td>DÃ©mons tuant les hiÃ©rarchies de processus prenant
                plus d'une seconde CPU et se trouvant dans <tt>/sys/fs/cgroup/C5_*</tt>
        </tr>
        <tr class="executable">
            <td>launcher<br>
                launcher.c
            <td>Ce programme possÃ¨de le SUID root ce qui lui permetÂ :
                <ul>
                    <li> De crÃ©er le contrÃ´le groupe utilisÃ© par <tt>killer.py</tt>.
                    <li> De lancer le processus avec un UID liÃ©e Ã  la session.
                    <li> De limiter les ressources utilisÃ©es par le processus.
                </ul>
        </tr>
        <tr class="executable">
            <td>load_testing.py
            <td>Un simulateur de charge pour voir combien le systÃ¨me supporte d'Ã©tudiants.
                Difficilement utilisable car il faut le modifier pour indiquer un bon ticket de session.
        </tr>
        <tr class="js">
            <td>question.py
            <td>La classe permettant de dÃ©finir les questions.
        </tr>
        <tr class="">
            <td>question_after.py<br>
                question_before.py
            <td> Utilitaire permettant de gÃ©nÃ©rer le fichier <tt>.json</tt>
                contenant les titres des questions des diffÃ©rentes sessions.
                C'est nÃ©cessaire pour faire les export ZIP et GIT.
        </tr>
        <tr class="executable">
            <td>tests.py
            <td>Tests de rÃ©gression (ne teste pas la salle d'attente).
        </tr>
        <tr class="executable">
            <td>utilities.py
            <td>Classes et fonctions nÃ©cessaires pour les serveurs,
                mais c'est aussi le script d'administration du serveur.
                S'il est lancÃ© sans arguments, cela afficheÂ :
                <ul>
                    <li> Les explications pour l'utiliser.</li>
                    <li> La configuration par dÃ©faut extraite des variables d'environnement.</li>
                    <li> Les processus serveur en train de tourner.</li>
                </ul>
                Ce script est appelÃ© par le script <tt>127</tt>.
                faites une copie de <tt>127</tt> avec votre propre configuration
                et utiliser-la pour gÃ©rer vos serveurs C5.
        </tr>
    </table>

    <h3>Organisation des fichiers gÃ©nÃ©rÃ©s.</h3>
    <p>
        Les fichiers de configurations se terminent tous par <tt>.cf</tt>
        et contiennent une expression PythonÂ :
    </p>
    <ul>
        <li> <tt>c5.cf</tt> configuration globales de C5
            <ul>
                <li> La liste des administrateurs.
                <li> La durÃ©e de vie des tickets,
                <li> La liste des noms de machines par salle de TP
                <li> La liste des ordinateurs en panne.
            </ul>
        </li>
        <li> <tt>COMPILE_{JS|CPP|PYTHON|REMOTE|SQL|TEXT|LISP}/nom_sujet.cf</tt> est la configuration d'un cours
            <ul>
                <li> Dates de dÃ©but et fin.</li>
                <li> Listes des Ã©tudiants avec un tiers-temps.</li>
                <li> Copier/coller autorisÃ© ou non.</li>
                <li> ThÃ¨me highlight.js</li>
                <li> Avec salle d'attente ou non.</li>
                <li> Liste des surveillants.</li>
                <li> Liste des Ã©tudiants en salle d'attente et ceux placÃ©s.</li>
            </ul>
        </li>
    </ul>
    <p>
        Les fichiers de logs se terminent tous par <tt>.log</tt>Â :
    </p>
    <ul>
        <li> <tt>http_server.log</tt> toutes les requÃªtes web reÃ§ues.</li>
        <li> <tt>compile_server.log</tt> toutes les demandes de compilation reÃ§ues.</li>
        <li> <tt>dns_server.log</tt> toutes les requÃªtes DNS faites.</li>
        <li> <tt>infos_server.log</tt> toutes les requÃªtes nom/prÃ©nom faites.</li>
        <li> <tt>tests.log</tt> RÃ©sumÃ© des tests de rÃ©gression.</li>
        <li> <tt>COMPILE_{JS|CPP|PYTHON|REMOTE|SQL|TEXT|LISP}/nom_sujet/LOGIN/</tt>
            <ul>
                <li> <tt>http_server.log</tt> toutes les actions de l'Ã©tudiant.<br>
                    <b>Ce fichier est prÃ©cieux, c'est lui qui permet de noter l'Ã©tudiant.</b>
                <li> <tt>compile_server.log</tt><br>
                    toutes les compilations/exÃ©cutions faites par l'Ã©tudiant.</li>
                <li> <tt>grades.log</tt><br>
                    les notes de l'Ã©tudiant.</li>
                <li> <tt>comments.log</tt><br>
                    les commentaires sur les codes de l'Ã©tudiant.</li>
            </ul>
        </li>
    </ul>
    <p>
        Divers fichiers gÃ©nÃ©rÃ©s Ã  l'installation ou Ã  l'utilisationÂ :
    </p>
    <ul>
        <li> <tt>TICKETS</tt> les tickets de session avec le nom de la machine et le navigateur web.</li>
        <li> <tt>CACHE.DNS</tt> et <tt>CACHE.LDAP</tt> caches pour accÃ©lÃ©rer le dÃ©marrage.</li>
        <li> <tt>http_server.pid</tt>, <tt>compile_server.pid</tt> PID des serveurs locaux.</li>
        <li> <tt>SSL</tt> certificat gÃ©nÃ©rÃ© pour le serveur web local.</li>
        <li> <tt>RapydScript</tt> transpiler Pythonâ†’JavaScript.</li>
        <li> <tt>xxx-JSCPP.js</tt> compilateur C++ en JavaScript.</li>
        <li> <tt>HIGHLIGHT</tt> coloriage du code source.</li>
        <li> <tt>sandbox</tt> librairie pour filtrer les appels systÃ¨me.</li>
        <li> <tt>node_modules</tt>, <tt>package-lock.json</tt> gÃ©nÃ©rÃ© par <tt>npm</tt></li>
        <li> <tt>geckodriver.log</tt> gÃ©nÃ©rÃ© par Selenium (tests de rÃ©gression).</li>
        <li> <tt>xxx-start-c5</tt> script shell lanÃ§ant C5 avec les mÃªmes paramÃ¨tres que
            lors du dernier lancement du serveur.
    </ul>


    <h3>Tests de rÃ©gression.</h3>
    <p>
        Installer les paquets :
    </p>
    <pre>apt install python3-selenium chromium-chromedriver firefox-geckodriver xnest xvfb</pre>
    <p>
        Lancer les tests :
    </p>
    <ul>
        <li> <tt>./tests.py</tt> : sur l'Ã©cran sans jamais s'arrÃªter.</li>
        <li> <tt>./tests.py hidden</tt> : cachÃ© (xvfb).</li>
        <li> <tt>./tests.py FF</tt> : seulement FireFox.</li>
        <li> <tt>./tests.py 1</tt> : une seule fois (sinon ils ne s'arrÃªtent pas).</li>
        <li> <tt>./tests.py screenshots</tt> : fait des copies d'Ã©crans automatiquement.</li>
    </ul>
    <p>
        Le rÃ©sumÃ© est dans <tt>tests.log</tt>
    </p>


    <h2>Utilisation de C5 Ã  l'universitÃ© Lyon 1.</h2>
    <p>
        Les cours qui ont utilisÃ© C5 :
    </p>
    <table>
        <tr>
            <th>Quand</th>
            <th>Quoi</th>
            <th>AnnÃ©e</th>
            <th>Nbr Inscrits</th>
            <th>Utilisation</th>
        </tr>
        <tr>
            <td> 2022-09â†’2022-12</td>
            <td>
                Initiation Algorithmique et<br>
                Programmation ImpÃ©rative<br>
                en langage C
            <td> L1
            <td> 585
            <td>
                2 sujets d'examen.<br>
                5 sujets d'annales.<br>
                2 devoirs maison.<br>
                15 sujets de TD.<br>
                11 sujets de TP.
        </tr>
        <tr>
            <td> 2023-01â†’2023-05<br>
                Pas terminÃ©e.</td>
            <td>
                Algorithmique et<br>
                Programmation RÃ©cursive<br>
                en LISP
            <td> L1
            <td> 414
            <td>
                ? sujets d'examen.<br>
                â‰¥8 sujets de TP.
        </tr>
        <tr>
            <td> 2023-02</td>
            <td>
                Programmation concurrente
            <td> L3
            <td> 165
            <td>
                1 sujet d'examen.<br>
                1 sujet d'entraÃ®nement.<br>
        </tr>
        <tr>
            <td> 2023-04</td>
            <td>
                Applications en MathÃ©matiques et Informatique
            <td> L1
            <td> 312
            <td>
                1 sujet d'examen.
        </tr>
    </table>

    <p>
        Sur l'ensemble des sessions d'examens,
        voici l'histogramme du nombre de copies
        en fonction du nombre de commentaires faits
        par les correcteurs sur la copie.
        Une grande partie des copies n'ont pas Ã©tÃ© commentÃ©es du tout.
        Ceci a Ã©tÃ© calculÃ© par <tt>comments.py</tt>.
    </p>
    <style>
        TABLE.histo SPAN {
            background: #8F8;
            display: inline-block
        }
    </style>
    <table class="histo">
        <tr>
            <th>Nombre<br>de com-<br>mentaires
            <th>Nombre de copies
            <th>
        </tr>
        <tr>
            <td>1
            <td><span style="width:27.428571428571427em">24</span>
        </tr>
        <tr>
            <td>2
            <td><span style="width:35.42857142857143em">31</span>
        </tr>
        <tr>
            <td>3
            <td><span style="width:40.0em">35</span>
        </tr>
        <tr>
            <td>4
            <td><span style="width:37.714285714285715em">33</span>
        </tr>
        <tr>
            <td>5
            <td><span style="width:21.714285714285715em">19</span>
        </tr>
        <tr>
            <td>6
            <td><span style="width:17.142857142857142em">15</span>
        </tr>
        <tr>
            <td>7
            <td><span style="width:22.857142857142858em">20</span>
        </tr>
        <tr>
            <td>8
            <td><span style="width:9.142857142857142em">8</span>
        </tr>
        <tr>
            <td>9
            <td><span style="width:11.428571428571429em">10</span>
        </tr>
        <tr>
            <td>10
            <td><span style="width:10.285714285714286em">9</span>
        </tr>
        <tr>
            <td>11
            <td><span style="width:14.857142857142858em">13</span>
        </tr>
        <tr>
            <td>12
            <td><span style="width:6.857142857142857em">6</span>
        </tr>
        <tr>
            <td>13
            <td><span style="width:5.714285714285714em">5</span>
        </tr>
        <tr>
            <td>14
            <td><span style="width:2.2857142857142856em">2</span>
        </tr>
        <tr>
            <td>15
            <td><span style="width:2.2857142857142856em">2</span>
        </tr>
        <tr>
            <td>16
            <td><span style="width:2.2857142857142856em">2</span>
        </tr>
        <tr>
            <td>17
            <td><span style="width:0.0em">0</span>
        </tr>
        <tr>
            <td>18
            <td><span style="width:0.0em">0</span>
        </tr>
        <tr>
            <td>19
            <td><span style="width:0.0em">0</span>
        </tr>
        <tr>
            <td>20
            <td><span style="width:1.1428571428571428em">1</span>
        </tr>
        <tr>
            <td>
            <td>235 Ã©tudiants. Moyenne 5.5 commentaires. MÃ©diane 4 commentaires.
        </tr>
    </table>
    <p>
        Les surveillances d'examens sont faites dans des salles de TP
        avec 18 Ã©tudiants.
        Les Ã©tudiants doivent impÃ©rativement travailler sur les ordinateurs
        de l'Ã©tablissement et non leur ordinateur personnel.
    </p>
    <p>
        Il est impÃ©ratif que les Ã©tudiants aient fait un TP complet
        en utilisant C5 avant le jour de l'examen afin de ne pas
        Ãªtre dans un environnement qu'ils ne connaissent pas.
    </p>

    <h2>TODO</h2>
    <p>FonctionnalitÃ©s manquantes dans l'<b>Ã©diteur</b> :</p>
    <ul>
        <li> Bouton et icones Ã  ajouter pour l'Ã©tudiant :
            <ul>
                <li> Choix du thÃ¨me de coloriage syntaxique.</li>
                <li> DÃ©truire une sauvegarde.</li>
                <li> ComplÃ©tion avec <tt class="key">Ctrl+Espace</tt></li>
            </ul>
        </li>
        <li> Backoffice :
            <ul>
                <li> Gestion des versions des sources des sujets.
                    MÃªme s'ils sont modifiÃ©s par plusieurs personnes.
                </li>
            </ul>
        </li>
        <li> Bugs Ã  corriger :
            <ul>
                <li>
                    Faire en sorte que <tt class="key">Ctrl+Z</tt> fonctionne aprÃ¨s le reformatage du code.
                </li>
                <li>
                    Mettre en Ã©vidence le bloc plutÃ´t que seulement les parenthÃ¨sesÂ ?
                </li>
            </ul>
        </li>
        <li> Conseils pour utiliser le clavier plutÃ´t que la souris.</li>
        </li>
        <li>
            Ajouter des modes d'affichage Ã  l'Ã©diteur :
            <ul>
                <li> Ã‰dition : le mode classique.</li>
                <li> Retour : affiche le barÃ¨me de notation Ã  la place des questions,
                    ainsi que les commentaires de l'enseignant si ces informations
                    sont diffusÃ©es. Si c'est un enseignant, c'est Ã©ditable.</li>
                <li> Correction : affiche la correction mis en parallÃ¨le
                    avec le code de l'Ã©tudiant.</li>
                <li> Ã‰dition sujet : permet d'avoir une unique fenÃªtre pour
                    modifier le sujet de la session et l'essayer.</li>
                <li> Guide de TP : le code source contient des consignes
                    pour les surveillants de TP avec des exemples de codes.</li>
            </ul>
            Le mode d'Ã©dition est indiquÃ© dans l'URL afin de pouvoir
            mettre des lien directs Ã  partir de la page d'accueil de l'Ã©tudiant
            quand le mode est disponible.
        </li>
    </ul>
    <p>FonctionnalitÃ©s manquantes dans le <b>checkpoint</b> (placement) :</p>
    <ul>
        <li>
            Affiche source Ã©tudiant via la carte :
            bascule entre le mode ascenseur temporel et
            les derniÃ¨res rÃ©ponses Ã  toutes les questions.
        </li>
        <li>
            ZIP des Ã©tudiants d'une salle.
        </li>
        <li>
            Associer par apprentissage les adresses IP aux places sur le plan.
        </li>
        <li>
            PrÃ©dÃ©finir dans le paramÃ©trage de la session la liste
            des Ã©tudiants attendus et dans quelles salles ils doivent composer.
        </li>
        <li>
            Ã‰crire en gras les noms des Ã©tudiants.
        </li>
        <li>
            Mettre l'adresse mail de l'Ã©tudiant dans la popup.
        </li>
    </ul>
    <p>FonctionnalitÃ©s manquantes dans la <b>modÃ©lisation du sujet</b> :</p>
    <ul>
        <li>
            Mettre au propre l'API.
        </li>
        <li>
            Le sujet doit pouvoir dÃ©finir dans les options le nombre de sujets qu'il permet.
        </li>
        <li>
            Ajouter une description Ã  la session (dans le code source ?)
            qui sera affichÃ©e Ã  l'Ã©tudiant et permettra de garder
            des noms de sessions courts.
        </li>
        <li>
            L'Ã©diteur interactif de sujet devrait avoir la colonne
            d'index des questions Ã  gauche.
        </li>
    </ul>
    <p>Dette technique :</p>
    <ul>
        <li>
            Le protocole d'Ã©change avec '\001' n'est pas fiable
            car il ne distingue pas les dÃ©buts et fins de message et
            donc rend impossible une lecture du pipe sans jamais une erreur.
        </li>
        <li>
            Faire un seul rÃ©pertoire par session qui contient .cf .py .js .json
            les logs et les mÃ©dia.
        </li>
    </ul>
    <p>FonctionnalitÃ©s manquantes de la <b>page d'accueil</b> :</p>
    <ul>
        <li> Affichage de seulement ses sujets.</li>
    </ul>
    <p>FonctionnalitÃ©s manquantes de la <b>page de notation</b> :</p>
    <ul>
        <li> Ajout du barÃ¨me aux questions (en plus du barÃ¨me global).</li>
        <li> DÃ©terminer la version du code qui a Ã©tÃ© corrigÃ©e (sans Ãªtre commentÃ©e).
            De maniÃ¨re automatique ou bien explicitement.
        </li>
        <li>
            Afficher en HTML copiable dans un mail le code commentÃ© de l'Ã©tudiant.
        </li>
    </ul>

    <p>Page de <b>paramÃ©trage de session</b> :</p>

    <ul>
        <li> Ajouter l'association des Ã©tudiants aux salles d'examen ou surveillant ou correcteurs.</li>
        <li> Ajoute un bouton Â« Reset using COURSE_OPTIONS Â»</li>
        <li> Option pour dÃ©sactiver la toute premiÃ¨re compilation quand
            la compilation automatique est dÃ©sactivÃ©e.
            C'est complexe Ã  faire.
        </li>
        <li> Liste des mÃ©dia.</li>
        <li> DÃ©truire un mÃ©dia.</li>
        <li> Ajouter une session "partage de mÃ©dia" dont les mÃ©dia sont utilisables
            directement sans indiquer le nom de la session.
        </li>
    </ul>



    <script>
        /* From Olavi Ivask's Weblog */
        function replaceDiacritics(s) {
            if (s.search(/[\300-\377]/) == -1)
                return s;

            var diacritics = [
                /[\300-\306]/g, /[\340-\346]/g, // A, a
                /[\310-\313]/g, /[\350-\353]/g, // E, e
                /[\314-\317]/g, /[\354-\357]/g, // I, i
                /[\322-\330]/g, /[\362-\370]/g, // O, o
                /[\331-\334]/g, /[\371-\374]/g,  // U, u
                /[\321]/g, /[\361]/g, // N, n
                /[\307]/g, /[\347]/g // C, c
            ];

            var chars = ['A', 'a', 'E', 'e', 'I', 'i', 'O', 'o', 'U', 'u', 'N', 'n', 'C', 'c'];

            for (var i = 0; i < diacritics.length; i++) {
                s = s.replace(diacritics[i], chars[i]);
            }
            return s;
        }

        content = [];
        what = {
            'H2': ['<b>', '</b>'],
            'H3': ['Â Â Â Â ', '']
        };
        for (element = document.body.firstChild; element; element = element.nextSibling)
            if (what[element.tagName]) {
                i = replaceDiacritics(element.innerText).toLowerCase().replace(/[.?! ]*$/, "").replace(/[^a-zA-Z0-9]/g, '-');
                content.push(
                    what[element.tagName][0]
                    + '<a href="#' + i + '">'
                    + element.innerHTML
                    + what[element.tagName][1]
                    + '</a><br>'
                );
                element.innerHTML = '<a name="' + i + '">' + element.innerHTML + '</a>';
            }
        document.getElementById('toc').innerHTML = content.join('');


    </script>
</body>
